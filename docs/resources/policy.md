---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "stackguardian_workflow_group Resource - terraform-provider-stackguardian"
subcategory: ""
description: |-

---

# stackguardian_workflow_group (Resource)

## Example Usage

```terraform
resource "stackguardian_policy" "example-policy" {
  resource_name = "example-policy"

  description = "Policy created using provider"

  number_of_approvals_required = 0

  tags = [
    "provider",
    "policy"
  ]

  policies_config = [{
    name = "example_policy_config" # Required: Policy name.

    skip = false # Optional: Whether to skip this policy.

    on_fail = "FAIL" # Required: Action on failure (e.g., FAIL, WARN, PASS, APPROVAL_REQUIRED).

    on_pass = "PASS" # Required: Action on pass (e.g., FAIL, WARN, PASS, APPROVAL_REQUIRED).

    policy_input_data = {      # Optional: Nested block for policy input data.
      schema_type = "RAW_JSON" # Required: Type of input schema (e.g., FORM_JSONSCHEMA, RAW_JSON).
      data = jsonencode(
        {
          "meta" : {
            "version" : "v1",
            "required_provider" : "stackguardian/terraform_plan"
          },
          "evaluators" : [
            {
              "id" : "ec2_has_environment_tag",
              "description" : "Ensure that EC2 instances have the 'Environment: Production' tag",
              "provider_args" : {
                "operation_type" : "attribute",
                "terraform_resource_type" : "aws_instance",
                "terraform_resource_attribute" : "tags"
              },
              "condition" : {
                "type" : "Contains",
                "value" : {
                  "Environment" : "Production"
                },
                "error_tolerance" : 2
              }
            }
          ],
          "eval_expression" : "ec2_has_environment_tag"
        }
      )
    }
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `policy_type` (String) Type of policy created "GENERAL" or "FILTER.INSIGHT"
- `resource_name` (String) Name of the policy. Must be less than 100 characters. Allowed characters are ^[a-zA-Z0-9_]+$

### Optional

- `approvers` (List of String) List of stackguardian users
- `description` (String) A brief description of the policy. Must be less than 256 characters.
- `enforced_on` (List of String) List of Resource path on which this policy is to be applied on
- `number_of_approvals_required` (Number) Number of approvals required for a policy check to pass
- `policies_config` (Attributes List) Policy configuration (see [below for nested schema](#nestedatt--policies_config))
- `tags` (List of String) A list of tags associated with the policy. A maximum of 10 tags are allowed.

<a id="nestedatt--policies_config"></a>
### Nested Schema for `policies_config`

Required:

- `name` (String) Name of the policy config. Must be less than 100 characters. Allowed characters are ^[a-zA-Z0-9_]+$

Optional:

- `on_fail` (String) Specifies the action to be performed on failure. Options: <span style="background-color: #eff0f0; color: #e53835;">FAIL</span>,
		<span style="background-color: #eff0f0; color: #e53835;">WARN</span>,
		<span style="background-color: #eff0f0; color: #e53835;">PASS</span>,
		<span style="background-color: #eff0f0; color: #e53835;">APPROVAL_REQUIRED</span>
- `on_pass` (String) Specifies the action to be performed on pass. Options: <span style="background-color: #eff0f0; color: #e53835;">FAIL</span>,
		<span style="background-color: #eff0f0; color: #e53835;">WARN</span>,
		<span style="background-color: #eff0f0; color: #e53835;">PASS</span>,
		<span style="background-color: #eff0f0; color: #e53835;">APPROVAL_REQUIRED</span>
- `policy_input_data` (Attributes) Policy definition (see [below for nested schema](#nestedatt--policies_config--policy_input_data))
- `policy_vcs_config` (Attributes) Configuration to import policy from version control (see [below for nested schema](#nestedatt--policies_config--policy_vcs_config))
- `skip` (Boolean) Enable or disable the policy check

<a id="nestedatt--policies_config--policy_input_data"></a>
### Nested Schema for `policies_config.policy_input_data`

Required:

- `data` (String) Policy body
- `schema_type` (String) Specifies the schema type of the policy. Options: <span style="background-color: #eff0f0; color: #e53835;">FORM_JSONSCHEMA</span>,
		<span style="background-color: #eff0f0; color: #e53835;">RAW_JSON</span>,
		<span style="background-color: #eff0f0; color: #e53835;">TIRITH_JSON</span>,
		<span style="background-color: #eff0f0; color: #e53835;">NONE</span>


<a id="nestedatt--policies_config--policy_vcs_config"></a>
### Nested Schema for `policies_config.policy_vcs_config`

Required:

- `use_marketplace_template` (Boolean) Name of the template from marketplace

Optional:

- `custom_source` (Attributes) Source configuration type and settings definition (see [below for nested schema](#nestedatt--policies_config--policy_vcs_config--custom_source))
- `policy_template_id` (String) Must atmost 100 characters

<a id="nestedatt--policies_config--policy_vcs_config--custom_source"></a>
### Nested Schema for `policies_config.policy_vcs_config.custom_source`

Required:

- `source_config_kind` (String)

Optional:

- `additional_config` (String)
- `config` (Attributes) (see [below for nested schema](#nestedatt--policies_config--policy_vcs_config--custom_source--config))
- `source_config_dest_kind` (String) Kind of the source configuration destination. Valid examples include eg:- AWS_RBAC, AZURE_STATIC.

<a id="nestedatt--policies_config--policy_vcs_config--custom_source--config"></a>
### Nested Schema for `policies_config.policy_vcs_config.custom_source.config`

Optional:

- `auth` (String)
- `git_core_auto_crlf` (Boolean)
- `git_sparse_checkout_config` (String)
- `include_submodule` (Boolean)
- `is_private` (Boolean)
- `ref` (String)
- `repo` (String)
- `working_dir` (String)







## Import

Import existing resource

### Using Import block (terraform v1.5.0 and later)
```terraform
import {
  to = stackguardian_policy.example-policy
  id = "policy-name"
}
```

### Using CLI
```bash
terraform import stackguardian_policy.example-policy policy-name
```