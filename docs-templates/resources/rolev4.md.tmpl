---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "stackguardian_role Resource - terraform-provider-stackguardian"
subcategory: ""
description: |-

---

# stackguardian_rolev4 (Resource)

## Example Usage

{{tffile "docs-examples/resources/rolev4/resource.tf"}}

{{ .SchemaMarkdown }}

## Import

Import existing resource.

### Using Import block (terraform v1.5.0 and later)
```terraform
import {
  to = stackguardian_rolev4.example-role
  id = "role-name"
}
```

### Using CLI
```bash
terraform import stackguardian_role.example-role role-name
```

## Migrating from stackguardian_role to stackguardian_rolev4

```terraform
// stackguardian_role example
resource "stackguardian_role" "test" {
  resource_name = "testing"
  allowed_permissions = {
    "PATCH/api/v1/orgs/lhind-master/wfgrps/<wfGrp>/wfs/<wf>/" = {
      name = "UpdateWorkflow"
      paths = {
        "<wfGrp>" = [
          "wfgrp1",
          "wfgrp2"
        ]
        "<wf>" = [
          "wf1",
          "wf2"
        ]
      }
    },
  }
}

// stackguardian_rolev4 equivalent example
resource "stackguardian_rolev4" "test" {
  resource_name = "testing"
  allowed_permissions = {
    "PATCH/api/v1/orgs/lhind-master/wfgrps/<wfGrp>/wfs/<wf>/" = {
      name = "UpdateWorkflow"
      paths = {
        "<wfGrp>" = [
          "wfgrp1|wfgrp2"
        ]
        "<wf>" = [
          "wf1|wf2"
        ]
      }
    },
  }
}
```

### Explanation

We can convert from role to rolev4 by combining all paths inside a list with a logical `|` operator.

Difference between `stackguardian_role` and `stackguardian_rolev4`

`stackguardian_role` resolves the resources by combining with each path with every other path. Resolving the paths from the above example:

- /wfGrp/wfgrp1/wf/wf1
- /wfGrp/wfgrp1/wf/wf2
- /wfGrp/wfgrp2/wf/wf1
- /wfGrp/wfgrp2/wf/wf2

</br>

`stackguardian_rolev4` resolves the resources by mapping paths one to one. Resolving paths from the above example:

- /wfGrp/wfgrp1/wf/wf1
- /wfGrp/wfgrp2/wf/wf2
